<mat-horizontal-stepper  linear="true" #stepper class="booking-page">
  <mat-step [stepControl]="customerFormGroup">
    <div class="booking-form-container">
      <form [formGroup]="customerFormGroup"  fxLayout="column" fxLayoutAlign="center center">
        <ng-template matStepLabel>Fill out your general information</ng-template>
        <div fxLayout class="full-width" fxLayoutGap="20px">
          <mat-form-field appearance="outline" fxFlex="50%" >
            <mat-label class="star-required">First Name</mat-label>
            <input matInput placeholder="First Name" formControlName="firstName">
          </mat-form-field>
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">Last Name</mat-label>
            <input matInput placeholder="Last Name" formControlName="lastName">
          </mat-form-field>
        </div>
        <div fxLayout class="full-width" fxLayoutGap="20px">
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">Birth Date</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="dateOfBirth">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">Email</mat-label>
            <input matInput type="email" placeholder="Email" formControlName="email">
          </mat-form-field>
        </div>

        <div fxLayout fxLayoutAlign="end start" class="booking-btn">
          <button mat-raised-button
                  fxLayout fxFlex="50%"
                  fxLayoutAlign="center"
                  [disabled]="customerFormGroup.invalid"
                  (click)="nextTo2(stepper)">Next</button>
        </div>
      </form>
    </div>
  </mat-step>

  <mat-step [stepControl]="addressFormGroup">
    <div class="booking-form-container">
      <form [formGroup]="addressFormGroup" class="payment-form" fxLayout="column" fxLayoutAlign="center center">
        <ng-template matStepLabel>Fill out your address information</ng-template>
        <div fxLayout class="full-width" fxLayoutGap="20px">
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">Country</mat-label>
            <mat-select formControlName="country" >
              <mat-option  value="USA">USA</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">State</mat-label>
            <mat-select formControlName="state" >
              <mat-option  *ngFor="let state of StateOfUSA | keyvalue" [value]="state.key">{{state.value}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div fxLayout class="full-width" fxLayoutGap="20px">
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">City</mat-label>
            <input matInput placeholder="City" formControlName="city">
          </mat-form-field>
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">Street</mat-label>
            <input matInput placeholder="Street" formControlName="streetLine">
          </mat-form-field>
        </div>

        <div fxLayout class="full-width" fxLayoutGap="20px">
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">Zipcode</mat-label>
            <input matInput placeholder="Zipcode" formControlName="zipCode">
          </mat-form-field>
        </div>

        <div fxLayout fxLayoutAlign="end start" class="booking-btn">
          <button mat-raised-button
                  fxLayout
                  fxFlex="50%"
                  (click)="backTo1(stepper)"
                  fxLayoutAlign="center">back</button>
        </div>
        <div fxLayout fxLayoutAlign="end start" class="booking-btn">
          <button mat-raised-button
                  fxLayout
                  fxFlex="50%"
                  fxLayoutAlign="center"
                  (click)="nextTo3(stepper)">Next</button>
        </div>
      </form>
    </div>
  </mat-step>

  <mat-step [stepControl]="paymentFormGroup">
    <div class="booking-form-container">
      <form [formGroup]="paymentFormGroup" fxLayout="column" fxLayoutAlign="center center">
        <ng-template matStepLabel>Fill out your payment information</ng-template>
        <div fxLayout class="full-width" fxLayoutGap="20px">
          <mat-form-field appearance="outline" fxFlex="50%" >
            <mat-label class="star-required">Card Number</mat-label>
            <input matInput placeholder="Card Number" formControlName="cardNumber">
          </mat-form-field>
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">Card CVV</mat-label>
            <input matInput placeholder="Card CVV" formControlName="cardCVV">
          </mat-form-field>
        </div>

        <div fxLayout class="full-width" fxLayoutGap="20px">
          <mat-form-field appearance="outline" fxFlex="50%">
            <mat-label class="star-required">Total Price</mat-label>
            <input matInput placeholder="Total Price" formControlName="totalPrice" >
          </mat-form-field>
<!--          <mat-form-field appearance="outline" fxFlex="50%">-->
<!--            <mat-label class="star-required">Payment Status</mat-label>-->
<!--            <input matInput placeholder="Payment Status" formControlName="paymentStatus" >-->
<!--          </mat-form-field>-->
        </div>
        <form [formGroup]="paymentFormGroup.controls['billingAddress']" fxHide>

        </form>
        <div fxLayout fxLayoutAlign="end start" class="booking-btn">
          <button mat-raised-button
                  fxLayout fxFlex="50%"
                  fxLayoutAlign="center"
                  (click)="backTo2(stepper)">back</button>
        </div>
        <div fxLayout fxLayoutAlign="end start" class="booking-btn">
          <button mat-raised-button
                  fxLayout fxFlex="50%"
                  fxLayoutAlign="center"
                  (click)="done()">Done</button>
        </div>
      </form>
    </div>
  </mat-step>
</mat-horizontal-stepper>
